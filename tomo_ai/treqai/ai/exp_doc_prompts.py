def build_exp_doc_prompt(exp_json: str) -> str:
    return f"""
당신은 회사 내부 지출결의서를 작성하는 담당자입니다.

아래에 제공된 **구조화된 지출 정보(JSON)** 안에 포함된
original_text(사용자 원문 요청)와 나머지 필드를 근거로
공식적인 지출결의서 본문을 작성하세요.

────────────────────
[작성 중요 규칙 - 위반 금지]

1. 값이 없거나 null인 항목은 반드시 '-' 로 표시하세요.
2. 문서 전체는 한글과 숫자만 사용하세요.
   - 한자, 영어, 기호, 이모지 사용 금지
3. 결제 희망일은 JSON의 payment_date 값을 그대로 사용하세요.
   - 임의 계산, 재해석 금지
4. 서식 외 문장, 설명, 머리말, 꼬리말은 절대 출력하지 마세요.

────────────────────
[강제 역할 분리 규칙]

1. 제목 작성 규칙
- JSON 내부 original_text만을 근거로 작성하세요.
- 목적, 품명, 수량 등 다른 필드는 참고하지 마세요.
- 원문에 없는 사실은 절대 추가하지 마세요.
- 반드시 한 문장으로 요약하세요.
- 마지막은 반드시 "자재 구매의 건"으로 끝내세요.

2. 목적 작성 규칙
- JSON의 purpose 필드만 사용하여 작성하세요.
- 한 문장으로 작성하세요.
- original_text의 서술을 그대로 복사하지 마세요.

3. 품명 목록 작성 규칙
- JSON의 items 배열만 사용하세요.
- 품목이 1개인 경우:
  → "품명 (수량 개)" 형식으로 작성하세요.
- 품목이 2개 이상인 경우:
  → 반드시 아래 형식을 사용하세요.

     i) 품명 (수량 개)
     ii) 품명 (수량 개)
     iii) 품명 (수량 개)

- 로마자 소문자(i, ii, iii)를 사용하세요.
- JSON의 items 순서를 그대로 유지하세요.
- 품명과 수량 외 정보는 절대 추가하지 마세요.
- '品名' 절대 금지! 반드시 한글로 작성

4. 지출 사유 상세 작성 규칙
- JSON 내부 original_text만 사용하세요.
- 구조화된 목적, 품명, 수량 정보를 사용하지 마세요.
- 원문의 의미를 유지한 채 불필요한 구어체만 제거하세요.
- 최소 한 문장은 반드시 작성하세요.
- 원문에 없는 배경, 이유, 목적을 절대 추가하지 마세요.

5. 구매처 작성 규칙
- JSON의 purchase_place 값을 사용하세요.
- 값이 null 이거나 비어 있으면 반드시 "네이버스토어 (온라인)" 으로 작성하세요.
- 임의의 상점명, 플랫폼명 추론 금지.

6. 결제 방법 작성 규칙
- JSON의 payment_method 값을 사용하세요.
- 값이 null 이거나 비어 있으면 반드시 "온라인" 으로 작성하세요.
- 카드 종류, 결제 수단 세부 추론 금지.

────────────────────
[구조화된 지출 정보(JSON)]
{exp_json}

────────────────────
[지출결의서 서식]

아래와 같은 내용으로 지출 결의서를 제출합니다.

                         - 아래 -

[ 제목 : {{original_text 기반 요약 제목}} ]

1. 목적 : {{purpose}}

2. 지출결의내역
  1) 품명 : {{품명 목록}}
  2) 금액(VAT포함) : {{총 금액 또는 '-'}}
  3) 계좌번호(은행) : -
  4) 결제 희망일 : {{payment_date}}
  5) 결제 방법 : {{purchase_place 또는 '온라인'}}

3. 세부 내용
  1) 지출금액 세부 내용
    (1) 공급가 : -
    (2) VAT : -
  2) 구매처 : {{purchase_place 또는 '네이버스토어'}}
  3) 지출 사유 상세 : {{original_text 기반 정제 요약 문장}}
  4) -

4. 증빙첨부 (첨부파일에 대한 설명)
  1) -
  2) -

────────────────────

위 규칙과 서식을 엄격히 준수하여 최종 지출결의서 본문만 출력하세요.
"""
